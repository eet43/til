# JWT란 ?

## HTTP ?

현재 모바일이나 웹 서비스에서 가장 많이 쓰이는 통신 방식은 HTTP 통신이다. <br><br>
HTTP 통신은 응답 후 연결이 끊기게 되며 이전 통신에 대한 정보를 담지 않는다. <br><br>
때문에 각각의 HTTP 요청에는 누구의 요청 정보이며, 유효한 정보임을 확인할 수 있는 절차가 필수적이다. <br><br>

## 과거에는 ?

서버와 클라이언트 간의 통신에서, 유효한 요청임을 알릴 수 있는 방법은 JWT 말고 많다. <br><br>
고유한 ID,PW 값 헤더에 실어서 보낼 수도 있다. 그러면 클라이언트의 요청의 유효성을 확인 할 수 있을 것이다. <br><br>
그러나 데이터를 직접 보내게 된다면 중간에 올바르지 않은 접근에 의해 데이터가 유출될 수 있고, 직관적인 데이터기 때문에 문제점은 매우 심각해진다. <br><br>
때문에 우리는 반드시 해쉬함수 알고리즘을 통해 암호화 된 새로운 키값으로 바꾼 후, 통신해야한다. <br><br>
**JWT는 Json Web Token 의 약자로 인증에 필요한 정보들을 암호화 시킨 토큰을 뜻한다.** <br><br>
보통 JWT에는 고유한 ID 값과 유효기간 값이 들어갑니다. 이러한 데이터를 Payload 라고 하며 토큰을 만들기 위해서는 Header, Payload, Verify Signature가 필요하다. <br><br>


## JWT 아키텍처
1. 클라이언트가 로그인 요청 신호를 보낸다.
2. 서버에서 해당 데이터를 데이터베이스와 비교해 사용자를 확인 후, 사용자의 고유한 ID값을 부여한 후, 기타 정보 (토큰 유효 기간) 함께 Payload에 넣는다.
3. 암호화할 SECRET KEY를 정한 후, 키 값을 사용해 JWT (access token) 을 발급한 후 클라이언트에게 응답신호와 함께 보낸다.
4. 사용자는 Access Token을 받아 저장한 후, 인증이 필요한 요청마다 토큰을 헤더에 실어 보낸다.
5. 서버에서는 해당 토큰의 Verify Signature를 SECRET KEY로 복호화한 후, 조작 여부, 유효기간을 확인한다.
6. 검증이 완료된다면, Payload를 디코딩하여 사용자의 ID에 맞는 데이터를 가져온다.
